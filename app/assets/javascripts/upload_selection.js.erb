

var upload_url_field;
var examine_url_href;
function setup_url_field(upload_field, examine_url_path,examine_button_id) {
    upload_url_field = $j('#'+upload_field+'_data_url');
    examine_url_href = examine_url_path;
    $j('#'+examine_button_id).on('click', function(event){
        submit_url_for_examination();
    });
    upload_url_field.on('paste', function(event) {
        setTimeout(function(e){
            submit_url_for_examination();
        },0);
        return true;
    });
};
function submit_url_for_examination() {
    $j('#test_url_result')[0].innerHTML="<p id='large_spinner'/>";
    var data_url = upload_url_field.val();
    $j.post(examine_url_href + "?data_url=" + data_url, function(data){} );
}

function from_url_selected(){
    Effect.Fade("upload_from_file", {
        duration: 0.0
    });
    Effect.Appear("upload_from_url");
    $j('#upload_from_file_button').removeClass("block_link_active");
    $j('#upload_from_url_button').addClass("block_link_active");
}

function from_file_selected(){
    Effect.Fade("upload_from_url", {
        duration: 0.0
    });
    Effect.Appear("upload_from_file");
    $j('#upload_from_file_button').addClass("block_link_active");
    $j('#upload_from_url_button').removeClass("block_link_active");
}

function allow_copy_option() {
    $j("#copy_option").show();
}

function disallow_copy_option() {
    $j("#copy_option").hide();
    $j("#copy_option input").prop("checked",false);
}