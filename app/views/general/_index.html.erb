<%
    new_item_label ||= "New #{t(controller_name.singularize)}"
    new_item_path = eval("new_#{controller_name.singularize}_path")
    items ||= instance_variable_get("@#{controller_name}")
    show_new_button=true if show_new_button.nil?
    title ||= nil
    subtitle ||= nil
%>

<%= index_title(title) %>
<% if subtitle %>
  <h2><%= subtitle %></h2>
<% end %>

<div class="index-container">
  <%= render partial: 'assets/resource_filtering' %>
  <div class="index-content">
    <%= render partial: 'assets/resource_sorting', locals: { items: items } if items.is_a?(Seek::GroupedPagination::Collection)%>
    <%= render partial: 'assets/resource_counts' %>
    <%= render partial: 'assets/resource_active_filters' %>

    <% if show_new_button %>
      <%= render partial: 'assets/new_button', locals: { new_object_path: new_item_path, label: new_item_label } %>
    <% end %>

    <%= render partial: 'general/index_facets_or_paged', locals: { items: items } %>
  </div>
</div>