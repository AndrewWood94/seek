<% debug = true %> <!-- Set to true to display debug information -->

<div id="ror_query_name"  class="form-group">
  <div class="form-group">
    <%= f.label :title, "Name", class: "required" %>
    <%= f.text_field :title, class: "form-control typeahead", id: "institution_title" %>
    <small class="form-text text-muted">
      <em>
      Begin typing to activate a suggestion list. Please choose an institution from the list, if available. If your institution is not listed, continue typing to enter its name manually.
      </em>
    </small>
  </div>

  <div class="form-group">
    <%= f.label :ror_id, 'ROR ID' -%>
    <button type="button" id="fetch-ror-data-with-id" class="btn btn-sm btn-primary">fetch</button>
    <%= f.text_field :ror_id, :class=>"form-control" -%>
    <small class="form-text text-muted">
      <em>The ROR ID (Research Organization Registry Identifier) is a unique 9-character alphanumeric code (e.g., 01f7bcy98).
        Please do not include the prefix (e.g., https://ror.org/).</em>
    </small>
  </div>
        <div class="form-group">
          <%= f.label :city -%>
          <%= f.text_field :city, :class=>"form-control" -%>
        </div>
        <div class="form-group">
          <%= f.label :country -%>
          <%= f.text_field :country, :class=>"form-control" -%>
        </div>

        <div class="form-group">
          <%= f.label :web_page -%>
          <%= f.text_field :web_page, :class=>"form-control" -%>
        </div>


  <div class="form-group">
    <%= f.label :address -%>
    <%= f.text_area :address, :rows => 5, :class=>"form-control" -%>
    <small class="text-left form-text text-muted">
      <em>
        ROR doesnâ€™t include detailed address information, please enter the address manually.
        <br>
        <span style="color:red;">remove the text before PR
        <br>
        If you need street-level details (e.g., street name, building number), use the latitude and longitude from the ROR API's addresses field to query a geocoding API.
        e.g. https://nominatim.openstreetmap.org/reverse?format=json&lat=40.7128&lon=-74.0060
      </span> </em>
    </small>
  </div>


  <% if debug %>
      <div class="row text-left">
        <div class="col-md-12">
          <h3>Data returned from ROR API</h3>
          <div><pre id="ror-id-01"></pre></div>
        </div>
      </div>
 <% end %>
  </div>
