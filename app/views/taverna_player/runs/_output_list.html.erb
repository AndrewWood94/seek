<h2 class="standout">
  <%= title -%> (<%= ports.count -%>)
</h2>
<% unless ports.blank? -%>
  <table class="simple" style="width: 96%; margin-left:2%; margin-right:2%;">
    <% ports.each do |p| -%>
      <% wf_port = run.workflow.output_ports.select {|o| o.name == p.name}.first %>
      <tr>
        <td>
          <h3>
            <%= p.name %>
            <% unless wf_port[:description].blank? %>
              <%= help_icon(wf_port[:description]) -%>
            <% end %>
            <span class="mime_type"><%= "(#{p.metadata[:type]})" if p.depth == 0 %></span>
              <ul class="sectionIcons" style="font-weight: normal; vertical-align:middle; text-align:right; position:relative; top:-15px; /* ugly, but necessary relative positioning */">

                <li><%= render :partial => "download_link", :locals => { :download_link_name => "Download value", :download_url => "/runs/#{run.id}/download/output/#{p.name}" } %></li>
              </ul>
          </h3>

          <p>
            <%= show_output(run, p) %>
          </p>
        </td>
      </tr>
    <% end %>
  </table>
<% else %>
  <p class="none_text" style="margin-left:20px;">None</p>
<% end %>
